---
title: api接口备忘
published: 2025-11-09
description: '关于前后端api的备忘知识'
image: ''
tags: [api]
category: '备忘'
draft: true
lang: ''
---

# HTTP请求

## 请求格式
---
### 1. 请求行

这是每个HTTP请求的第一行，它**不是**请求头的一部分。它包含三个核心信息：
- **请求方法**： 如 `GET`, `POST`, `PUT`, `DELETE` 等。
- **请求的URL**： 要访问的资源路径。
- **HTTP版本**： 如 `HTTP/1.1`。

**示例：**
```
GET /api/users?id=123 HTTP/1.1
```

---

### 2. 请求头(Header)

紧跟在请求行后面的一系列键值对，每个键值对占一行。它们向服务器传递关于此次请求的各种附加信息。

**常见的请求头包括：**
- `Host`: 请求的目标域名。
- `User-Agent`: 客户端（如浏览器）的标识信息。
- `Content-Type`: **（主要用于POST请求）** 告诉服务器请求体的数据类型，如 `application/json`。
- `Content-Length`: **（主要用于POST请求）** 告诉服务器请求体的长度（字节）。
- `Authorization`: 用于身份验证的凭证，如Token。
- `Accept`: 客户端能够接收的响应数据类型。

**示例：**
```
Host: www.example.com
User-Agent: Mozilla/5.0...
Accept: application/json
```

---

### 3. 请求体(Body)

这是`可选`的部分，**GET、HEAD、DELETE等请求通常没有请求体**。请求体主要用于包含要发送给服务器的数据。

- **POST 和 PUT 请求**： 通常都有请求体，用于提交表单数据、上传文件、发送JSON数据等。
- **GET 请求**： **理论上可以有请求体，但规范不推荐，而且很多服务器和中间件会忽略它。** GET请求的数据通常通过URL的查询字符串传递。


| 数据格式 | Content-Type(请求头中) | Flask 接收方式 | 特点 |
|------|--------------|----------------|------|
| **form-data** | `multipart/form-data` | `request.form` + `request.files` | 支持文件上传 |
| **x-www-form-urlencoded** | `application/x-www-form-urlencoded` | `request.form` | 简单键值对 |
| **binary** | `application/octet-stream` | `request.data` | 原始二进制 |
| **raw (JSON)** | `application/json` | `request.get_json()` | 结构化数据 |
| **raw (Text)** | `text/plain` | `request.data` | 纯文本 |
| **MessagePack** | `application/x-msgpack` | `request.data` + msgpack 解析 | 高效二进制 |

**示例（一个JSON请求体）：**
```json
{
  "username": "john_doe",
  "email": "john@example.com"
}
```

---

### 总结与对比

| 组成部分 | GET 请求 | POST 请求 |
| :--- | :--- | :--- |
| **请求行** | **有** (例如 `GET /path?param=value HTTP/1.1`) | **有** (例如 `POST /path HTTP/1.1`) |
| **请求头** | **有** (例如 `Host`, `User-Agent`) | **有** (例如 `Host`, `User-Agent`, `Content-Type`) |
| **请求体** | **通常没有** (数据放在URL中) | **通常有** (数据放在这里) |

### 一个完整的例子

**一个GET请求可能长这样：**
```
GET /search?q=apple HTTP/1.1
Host: www.google.com
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36
Accept: text/html
```
*(注意：没有请求体)*

**一个POST请求可能长这样：**
```
POST /api/login HTTP/1.1
Host: www.example.com
User-Agent: Mozilla/5.0...
Content-Type: application/json
Content-Length: 49

{"username": "alice", "password": "secret123"}
```
*(注意：在请求头之后有一个空行，然后是请求体)*

## 请求类型

